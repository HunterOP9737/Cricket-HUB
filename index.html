<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Stream Player</title>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<style>
body, html {margin:0; padding:0; background:#000; color:#fff; font-family:Poppins, sans-serif; text-align:center;}
#header {padding:15px; font-size:20px; background:#111; color:#00eaff; font-weight:600;}
video {width:100%; max-height:60vh; background:#000;}
.section {margin:15px 0;}
.btn {padding:10px 20px; margin:5px; border:none; border-radius:6px; cursor:pointer; font-size:16px; background:#444; color:#fff;}
.btn.active {background:#1db954;}
#popup {position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); display:flex; align-items:center; justify-content:center; z-index:1000;}
#popupContent {background:rgba(20,20,30,0.95); padding:2rem; border-radius:20px; text-align:center; backdrop-filter:blur(10px);}
#popup h2 {margin-bottom:10px; color:#00eaff;}
.popupBtn {margin:5px; padding:10px 20px; font-size:16px; border:none; border-radius:8px; cursor:pointer; transition:0.3s;}
.joinBtn {background:linear-gradient(135deg,#00eaff,#9c00ff); color:#fff;}
.joinBtn:hover {background:linear-gradient(135deg,#00ffff,#c000ff);}
.alreadyBtn {background:rgba(255,255,255,0.1); color:#fff;}
.alreadyBtn:hover {background:rgba(255,255,255,0.2);}
</style>
</head>
<body>

<div id="header">Join Our Telegram Channel</div>

<!-- Video Player -->
<video id="video" controls autoplay playsinline></video>

<!-- Hindi Buttons -->
<div class="section">
<h2>Hindi</h2>
<button class="btn" id="hindi1080" onclick="setStream('https://dish.slivcdn.com/hls/live/2020591/TEN3HD/master_3500.m3u8', this)">1080p</button>
<button class="btn" onclick="setStream('https://dish.slivcdn.com/hls/live/2020591/TEN3HD/master_2000.m3u8', this)">720p</button>
<button class="btn" onclick="setStream('https://dish.slivcdn.com/hls/live/2020591/TEN3HD/master_664.m3u8', this)">360p</button>
</div>

<!-- English Buttons -->
<div class="section">
<h2>English</h2>
<button class="btn" id="eng1080" onclick="setStream('https://dish.slivcdn.com/hls/live/2011747/TEN1HD/master_3500.m3u8', this)">1080p</button>
<button class="btn" onclick="setStream('https://dish.slivcdn.com/hls/live/2011747/TEN1HD/master_2000.m3u8', this)">720p</button>
<button class="btn" onclick="setStream('https://dish.slivcdn.com/hls/live/2011747/TEN1HD/master_664.m3u8', this)">360p</button>
</div>

<!-- Telegram Popup -->
<div id="popup">
  <div id="popupContent">
    <h2>Join Our Telegram Channel</h2>
    <p>Get the latest live match updates</p>
    <button class="popupBtn joinBtn" onclick="window.open('https://t.me/asiacuplive_match','_blank')">Join Now</button>
    <button class="popupBtn alreadyBtn" onclick="closePopup()">Already Joined</button>
  </div>
</div>

<script>
const video = document.getElementById('video');

function closePopup(){
  document.getElementById('popup').style.display='none';
}

function setStream(url, btn){
  if(Hls.isSupported() && url.endsWith(".m3u8")){
    const hls = new Hls();
    hls.loadSource(url);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED, ()=>video.play().catch(()=>{}));
  } else if(video.canPlayType('application/vnd.apple.mpegurl')){
    video.src = url;
    video.addEventListener('loadedmetadata', ()=>video.play().catch(()=>{}));
  } else {
    alert("Your browser does not support HLS.");
  }

  // Active button highlight
  document.querySelectorAll(".btn").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
}

// Auto-load default Hindi 1080p
window.onload = function(){
  setStream('https://dish.slivcdn.com/hls/live/2020591/TEN3HD/master_3500.m3u8', document.getElementById('hindi1080'));
  // Show popup after 1s
  setTimeout(()=>document.getElementById('popup').style.display='flex', 1000);
}
</script>

</body>
</html>